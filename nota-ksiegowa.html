<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Noty Ksiƒôgowej - FedEx</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 40px 20px;
            color: #fff;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        header p {
            color: #888;
            font-size: 1rem;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #4fc3f7;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .form-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .form-card h2 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #fff;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-row.single {
            grid-template-columns: 1fr;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            color: #aaa;
            font-size: 0.85rem;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 12px 14px;
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: rgba(102, 126, 234, 0.6);
            background: rgba(255, 255, 255, 0.12);
        }

        .form-group input::placeholder {
            color: #666;
        }

        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }

        .form-group select {
            cursor: pointer;
        }

        .form-group select option {
            background: #1e1e1e;
            color: #fff;
        }

        .readonly-field {
            background: rgba(102, 126, 234, 0.1) !important;
            border-color: rgba(102, 126, 234, 0.3) !important;
            color: #81c784 !important;
        }

        .hint {
            font-size: 0.75rem;
            color: #666;
            margin-top: 4px;
        }

        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 14px 28px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
        }

        .btn-primary:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .preview-section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            padding: 30px;
            margin-top: 30px;
        }

        .preview-section h3 {
            margin-bottom: 20px;
            color: #fff;
        }

        .preview-box {
            background: #fff;
            color: #000;
            padding: 40px;
            border-radius: 8px;
            font-family: 'Times New Roman', serif;
            font-size: 14px;
            line-height: 1.6;
        }

        .preview-box .header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
        }

        .preview-box .stamp {
            border: 2px dashed #999;
            padding: 20px;
            text-align: center;
            color: #999;
            font-style: italic;
            min-width: 200px;
        }

        .preview-box .address {
            text-align: right;
        }

        .preview-box .title {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin: 30px 0;
        }

        .preview-box .subtitle {
            text-align: center;
            margin-bottom: 30px;
            color: #666;
        }

        .preview-box table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .preview-box table th,
        .preview-box table td {
            border: 1px solid #000;
            padding: 12px;
            text-align: left;
            vertical-align: top;
        }

        .preview-box table th {
            background: #f0f0f0;
            font-weight: bold;
        }

        .preview-box .signatures {
            display: flex;
            justify-content: space-between;
            margin-top: 60px;
            text-align: center;
        }

        .preview-box .signature-box {
            width: 200px;
        }

        .preview-box .signature-line {
            border-top: 1px solid #000;
            margin-top: 60px;
            padding-top: 5px;
            font-size: 12px;
        }

        .info-box {
            background: rgba(33, 150, 243, 0.1);
            border: 1px solid rgba(33, 150, 243, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            color: #64b5f6;
            font-size: 0.9rem;
        }

        @media (max-width: 600px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .buttons {
                flex-direction: column;
            }

            .preview-box {
                padding: 20px;
                font-size: 12px;
            }

            .preview-box .header {
                flex-direction: column;
                gap: 20px;
            }

            .preview-box .address {
                text-align: left;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Powr√≥t do listy skrypt√≥w</a>
        
        <header>
            <h1>üìÑ Generator Noty Ksiƒôgowej</h1>
            <p>Generuj noty ksiƒôgowe dla odszkodowa≈Ñ FedEx</p>
        </header>

        <div class="info-box">
            üí° Wype≈Çnij formularz poni≈ºej. Numer konta bankowego jest ju≈º uzupe≈Çniony. Po wype≈Çnieniu kliknij "Generuj PDF" aby pobraƒá gotowy dokument.
        </div>

        <!-- DANE WYSTAWCY -->
        <div class="form-card">
            <h2>üè¢ Dane wystawcy noty</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Nazwa firmy</label>
                    <input type="text" id="wystawca_nazwa" placeholder="np. BL Logistics sp. z o.o.">
                </div>
                <div class="form-group">
                    <label>NIP</label>
                    <input type="text" id="wystawca_nip" placeholder="np. 1234567890">
                </div>
            </div>
            <div class="form-row single">
                <div class="form-group">
                    <label>Adres</label>
                    <input type="text" id="wystawca_adres" placeholder="np. ul. Czerska 8/7, 00-732 Warszawa">
                </div>
            </div>
        </div>

        <!-- DANE NOTY -->
        <div class="form-card">
            <h2>üìã Dane noty</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Numer noty</label>
                    <input type="text" id="nota_numer" placeholder="np. NK/01/2026">
                </div>
                <div class="form-group">
                    <label>Data wystawienia</label>
                    <input type="date" id="nota_data">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label>Typ dokumentu</label>
                    <select id="nota_typ">
                        <option value="Orygina≈Ç">Orygina≈Ç</option>
                        <option value="Kopia">Kopia</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Rodzaj szkody</label>
                    <select id="szkoda_rodzaj">
                        <option value="uszkodzonƒÖ">uszkodzona przesy≈Çka</option>
                        <option value="zagubionƒÖ">zagubiona przesy≈Çka</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- DANE PRZESY≈ÅKI -->
        <div class="form-card">
            <h2>üì¶ Dane przesy≈Çki</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Numer przesy≈Çki</label>
                    <input type="text" id="przesylka_numer" placeholder="np. 794644790240">
                </div>
                <div class="form-group">
                    <label>Data nadania przesy≈Çki</label>
                    <input type="date" id="przesylka_data">
                </div>
            </div>
        </div>

        <!-- KWOTA -->
        <div class="form-card">
            <h2>üí∞ Kwota odszkodowania</h2>
            <div class="form-row">
                <div class="form-group">
                    <label>Kwota (PLN)</label>
                    <input type="number" id="kwota" step="0.01" placeholder="np. 1500.00">
                </div>
                <div class="form-group">
                    <label>Kwota s≈Çownie</label>
                    <input type="text" id="kwota_slownie" placeholder="np. tysiƒÖc piƒôƒáset z≈Çotych 00/100">
                    <span class="hint">Zostanie uzupe≈Çnione automatycznie lub wpisz rƒôcznie</span>
                </div>
            </div>
        </div>

        <!-- KONTO BANKOWE -->
        <div class="form-card">
            <h2>üè¶ Konto bankowe</h2>
            <div class="form-row single">
                <div class="form-group">
                    <label>Numer rachunku</label>
                    <input type="text" id="konto" value="48 1140 1140 0000 3902 8700 1033" class="readonly-field" readonly>
                    <span class="hint">Sta≈Çy numer konta - nie mo≈ºna edytowaƒá</span>
                </div>
            </div>
        </div>

        <div class="buttons">
            <button class="btn btn-secondary" onclick="resetForm()">üîÑ Wyczy≈õƒá formularz</button>
            <button class="btn btn-primary" onclick="generatePDF()">üì• Generuj PDF</button>
        </div>

        <!-- PODGLƒÑD -->
        <div class="preview-section">
            <h3>üëÅÔ∏è PodglƒÖd dokumentu</h3>
            <div class="preview-box" id="preview">
                <div class="header">
                    <div class="stamp">(PieczƒÖtka firmowa wystawcy noty)</div>
                    <div class="address">
                        <strong>Adresat:</strong><br>
                        FedEx Express Poland<br>
                        ul. Annopol 19<br>
                        03-236 Warszawa
                    </div>
                </div>

                <div class="title">NOTA KSIƒòGOWA</div>
                <div class="subtitle">
                    Nr <span id="prev_numer">___</span> z dnia <span id="prev_data">___</span><br>
                    <span id="prev_typ">Orygina≈Ç</span>
                </div>

                <p style="margin-bottom: 20px;">Prosimy o zgodne z nami zaksiƒôgowanie nastƒôpujƒÖcych pozycji:</p>

                <table>
                    <tr>
                        <th style="width: 150px;">ObciƒÖ≈ºyli≈õmy</th>
                        <th>TRE≈öƒÜ</th>
                    </tr>
                    <tr>
                        <td style="text-align: center; font-weight: bold; font-size: 16px;">
                            <span id="prev_kwota">___</span> z≈Ç
                        </td>
                        <td>
                            ObciƒÖ≈ºamy Pa≈Ñstwa kwotƒÖ <strong><span id="prev_kwota2">___</span> z≈Ç</strong> 
                            (s≈Çownie: <span id="prev_slownie">___</span>)
                            z tytu≈Çu odszkodowania za <span id="prev_rodzaj">uszkodzonƒÖ</span> przesy≈Çkƒô 
                            nr <strong><span id="prev_przesylka">___</span></strong> 
                            z dnia <span id="prev_przesylka_data">___</span>.
                            <br><br>
                            Odszkodowanie prosimy przes≈Çaƒá na konto:<br>
                            <strong><span id="prev_konto">48 1140 1140 0000 3902 8700 1033</span></strong>
                        </td>
                    </tr>
                </table>

                <div class="signatures">
                    <div class="signature-box">
                        <div class="signature-line">sporzƒÖdzajƒÖcy</div>
                    </div>
                    <div class="signature-box">
                        <div class="signature-line">akceptujƒÖcy</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ustaw dzisiejszƒÖ datƒô jako domy≈õlnƒÖ
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('nota_data').value = today;
            updatePreview();
        });

        // Aktualizuj podglƒÖd przy ka≈ºdej zmianie
        document.querySelectorAll('input, select').forEach(el => {
            el.addEventListener('input', updatePreview);
            el.addEventListener('change', updatePreview);
        });

        // Automatyczne generowanie kwoty s≈Çownie
        document.getElementById('kwota').addEventListener('input', function() {
            const kwota = parseFloat(this.value);
            if (!isNaN(kwota)) {
                document.getElementById('kwota_slownie').value = numberToWords(kwota);
            }
        });

        function updatePreview() {
            const getValue = (id) => document.getElementById(id).value || '___';
            const formatDate = (dateStr) => {
                if (!dateStr) return '___';
                const d = new Date(dateStr);
                return d.toLocaleDateString('pl-PL');
            };

            document.getElementById('prev_numer').textContent = getValue('nota_numer');
            document.getElementById('prev_data').textContent = formatDate(document.getElementById('nota_data').value);
            document.getElementById('prev_typ').textContent = getValue('nota_typ');
            document.getElementById('prev_kwota').textContent = getValue('kwota');
            document.getElementById('prev_kwota2').textContent = getValue('kwota');
            document.getElementById('prev_slownie').textContent = getValue('kwota_slownie');
            document.getElementById('prev_rodzaj').textContent = getValue('szkoda_rodzaj');
            document.getElementById('prev_przesylka').textContent = getValue('przesylka_numer');
            document.getElementById('prev_przesylka_data').textContent = formatDate(document.getElementById('przesylka_data').value);
            document.getElementById('prev_konto').textContent = getValue('konto');
        }

        function numberToWords(number) {
            const jednosci = ['', 'jeden', 'dwa', 'trzy', 'cztery', 'piƒôƒá', 'sze≈õƒá', 'siedem', 'osiem', 'dziewiƒôƒá'];
            const nastki = ['dziesiƒôƒá', 'jedena≈õcie', 'dwana≈õcie', 'trzyna≈õcie', 'czterna≈õcie', 'piƒôtna≈õcie', 'szesna≈õcie', 'siedemna≈õcie', 'osiemna≈õcie', 'dziewiƒôtna≈õcie'];
            const dziesiatki = ['', 'dziesiƒôƒá', 'dwadzie≈õcia', 'trzydzie≈õci', 'czterdzie≈õci', 'piƒôƒádziesiƒÖt', 'sze≈õƒádziesiƒÖt', 'siedemdziesiƒÖt', 'osiemdziesiƒÖt', 'dziewiƒôƒádziesiƒÖt'];
            const setki = ['', 'sto', 'dwie≈õcie', 'trzysta', 'czterysta', 'piƒôƒáset', 'sze≈õƒáset', 'siedemset', 'osiemset', 'dziewiƒôƒáset'];

            if (number === 0) return 'zero z≈Çotych 00/100';

            const zlote = Math.floor(number);
            const grosze = Math.round((number - zlote) * 100);

            let result = '';

            // TysiƒÖce
            if (zlote >= 1000) {
                const tys = Math.floor(zlote / 1000);
                if (tys === 1) {
                    result += 'tysiƒÖc ';
                } else if (tys >= 2 && tys <= 4) {
                    result += jednosci[tys] + ' tysiƒÖce ';
                } else if (tys >= 5 && tys <= 9) {
                    result += jednosci[tys] + ' tysiƒôcy ';
                } else if (tys >= 10 && tys <= 19) {
                    result += nastki[tys - 10] + ' tysiƒôcy ';
                } else if (tys >= 20) {
                    const d = Math.floor(tys / 10);
                    const j = tys % 10;
                    result += dziesiatki[d] + ' ';
                    if (j > 0) {
                        if (j >= 2 && j <= 4) {
                            result += jednosci[j] + ' tysiƒÖce ';
                        } else {
                            result += jednosci[j] + ' tysiƒôcy ';
                        }
                    } else {
                        result += 'tysiƒôcy ';
                    }
                }
            }

            // Setki, dziesiƒÖtki, jedno≈õci
            const reszta = zlote % 1000;
            const s = Math.floor(reszta / 100);
            const d = Math.floor((reszta % 100) / 10);
            const j = reszta % 10;

            if (s > 0) result += setki[s] + ' ';

            if (d === 1) {
                result += nastki[j] + ' ';
            } else {
                if (d > 0) result += dziesiatki[d] + ' ';
                if (j > 0) result += jednosci[j] + ' ';
            }

            // Z≈Çotych
            const ostatnia = zlote % 10;
            const przedostatnia = Math.floor((zlote % 100) / 10);
            if (zlote === 1) {
                result += 'z≈Çoty';
            } else if (przedostatnia !== 1 && (ostatnia >= 2 && ostatnia <= 4)) {
                result += 'z≈Çote';
            } else {
                result += 'z≈Çotych';
            }

            // Grosze
            result += ' ' + grosze.toString().padStart(2, '0') + '/100';

            return result.trim();
        }

        function resetForm() {
            document.querySelectorAll('input:not([readonly]), select').forEach(el => {
                if (el.type === 'date') {
                    el.value = new Date().toISOString().split('T')[0];
                } else if (el.tagName === 'SELECT') {
                    el.selectedIndex = 0;
                } else {
                    el.value = '';
                }
            });
            updatePreview();
        }

        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            const getValue = (id) => document.getElementById(id).value || '';
            const formatDate = (dateStr) => {
                if (!dateStr) return '';
                const d = new Date(dateStr);
                return d.toLocaleDateString('pl-PL');
            };

            // Konfiguracja
            const marginLeft = 20;
            const pageWidth = 210;
            const contentWidth = pageWidth - 2 * marginLeft;
            let y = 20;

            // Nag≈Ç√≥wek - pieczƒÖtka i adresat
            doc.setFontSize(10);
            doc.setFont('helvetica', 'normal');

            // PieczƒÖtka (lewa strona)
            doc.setDrawColor(150);
            doc.setLineDash([2, 2], 0);
            doc.rect(marginLeft, y, 60, 35);
            doc.setLineDash([]);
            doc.setFontSize(8);
            doc.text('(Piecz' + String.fromCharCode(261) + 'tka firmowa', marginLeft + 30, y + 15, { align: 'center' });
            doc.text('wystawcy noty)', marginLeft + 30, y + 20, { align: 'center' });

            // Dane wystawcy pod pieczƒÖtkƒÖ
            if (getValue('wystawca_nazwa')) {
                doc.setFontSize(9);
                doc.text(getValue('wystawca_nazwa'), marginLeft + 30, y + 28, { align: 'center' });
                if (getValue('wystawca_adres')) {
                    doc.setFontSize(8);
                    doc.text(getValue('wystawca_adres'), marginLeft + 30, y + 33, { align: 'center' });
                }
            }

            // Adresat (prawa strona)
            doc.setFontSize(10);
            doc.text('Adresat:', pageWidth - marginLeft - 50, y);
            doc.setFont('helvetica', 'bold');
            doc.text('FedEx Express Poland', pageWidth - marginLeft - 50, y + 6);
            doc.setFont('helvetica', 'normal');
            doc.text('ul. Annopol 19', pageWidth - marginLeft - 50, y + 12);
            doc.text('03-236 Warszawa', pageWidth - marginLeft - 50, y + 18);

            y += 50;

            // Tytu≈Ç
            doc.setFontSize(16);
            doc.setFont('helvetica', 'bold');
            doc.text('NOTA KSI' + String.fromCharCode(280) + 'GOWA', pageWidth / 2, y, { align: 'center' });

            y += 10;

            // Numer i data
            doc.setFontSize(11);
            doc.setFont('helvetica', 'normal');
            const notaInfo = `Nr ${getValue('nota_numer')} z dnia ${formatDate(getValue('nota_data'))}`;
            doc.text(notaInfo, pageWidth / 2, y, { align: 'center' });

            y += 6;
            doc.setFontSize(10);
            doc.text(getValue('nota_typ'), pageWidth / 2, y, { align: 'center' });

            y += 15;

            // Tre≈õƒá
            doc.setFontSize(10);
            doc.text('Prosimy o zgodne z nami zaksi' + String.fromCharCode(281) + 'gowanie nast' + String.fromCharCode(281) + 'puj' + String.fromCharCode(261) + 'cych pozycji:', marginLeft, y);

            y += 10;

            // Tabela
            const tableTop = y;
            const col1Width = 35;
            const col2Width = contentWidth - col1Width;

            // Nag≈Ç√≥wki tabeli
            doc.setFillColor(240, 240, 240);
            doc.rect(marginLeft, tableTop, col1Width, 10, 'F');
            doc.rect(marginLeft + col1Width, tableTop, col2Width, 10, 'F');
            doc.rect(marginLeft, tableTop, contentWidth, 10, 'S');
            doc.line(marginLeft + col1Width, tableTop, marginLeft + col1Width, tableTop + 10);

            doc.setFont('helvetica', 'bold');
            doc.setFontSize(9);
            doc.text('Obci' + String.fromCharCode(261) + 'zylismy', marginLeft + col1Width / 2, tableTop + 7, { align: 'center' });
            doc.text('TRE' + String.fromCharCode(346) + String.fromCharCode(262), marginLeft + col1Width + col2Width / 2, tableTop + 7, { align: 'center' });

            // Tre≈õƒá tabeli
            const contentTop = tableTop + 10;
            const kwota = getValue('kwota');
            const kwotaSlownie = getValue('kwota_slownie');
            const rodzajSzkody = getValue('szkoda_rodzaj');
            const nrPrzesylki = getValue('przesylka_numer');
            const dataPrzesylki = formatDate(getValue('przesylka_data'));
            const konto = getValue('konto');

            // Kolumna z kwotƒÖ
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(12);
            doc.text(kwota + ' z' + String.fromCharCode(322), marginLeft + col1Width / 2, contentTop + 30, { align: 'center' });

            // Kolumna z tre≈õciƒÖ
            doc.setFont('helvetica', 'normal');
            doc.setFontSize(10);

            let textY = contentTop + 8;
            const textX = marginLeft + col1Width + 5;
            const maxWidth = col2Width - 10;

            doc.text(`Obci' + String.fromCharCode(261) + 'zamy Pa' + String.fromCharCode(324) + 'stwa kwot' + String.fromCharCode(261) + ' ${kwota} z' + String.fromCharCode(322)`, textX, textY);
            textY += 5;
            doc.text(`(s' + String.fromCharCode(322) + 'ownie: ${kwotaSlownie})`, textX, textY);
            textY += 5;
            doc.text(`z tytu' + String.fromCharCode(322) + 'u odszkodowania za ${rodzajSzkody} przesy' + String.fromCharCode(322) + 'k' + String.fromCharCode(281)`, textX, textY);
            textY += 5;
            doc.setFont('helvetica', 'bold');
            doc.text(`nr ${nrPrzesylki}`, textX, textY);
            doc.setFont('helvetica', 'normal');
            doc.text(` z dnia ${dataPrzesylki}.`, textX + doc.getTextWidth(`nr ${nrPrzesylki}`), textY);
            textY += 10;
            doc.text('Odszkodowanie prosimy przes' + String.fromCharCode(322) + 'a' + String.fromCharCode(263) + ' na konto:', textX, textY);
            textY += 6;
            doc.setFont('helvetica', 'bold');
            doc.text(konto, textX, textY);

            const tableHeight = textY - contentTop + 10;
            doc.rect(marginLeft, contentTop, contentWidth, tableHeight, 'S');
            doc.line(marginLeft + col1Width, contentTop, marginLeft + col1Width, contentTop + tableHeight);

            y = contentTop + tableHeight + 30;

            // Podpisy
            doc.setFont('helvetica', 'normal');
            doc.setFontSize(10);

            // Linie na podpisy
            doc.line(marginLeft + 10, y + 20, marginLeft + 60, y + 20);
            doc.line(pageWidth - marginLeft - 60, y + 20, pageWidth - marginLeft - 10, y + 20);

            // Etykiety
            doc.setFontSize(8);
            doc.text('sporz' + String.fromCharCode(261) + 'dzaj' + String.fromCharCode(261) + 'cy', marginLeft + 35, y + 26, { align: 'center' });
            doc.text('akceptuj' + String.fromCharCode(261) + 'cy', pageWidth - marginLeft - 35, y + 26, { align: 'center' });

            // Tekst o pieczƒÖtce
            doc.setFontSize(7);
            doc.text('(podpis i piecz' + String.fromCharCode(261) + 'tka osoby upowa' + String.fromCharCode(380) + 'nionej)', marginLeft + 35, y + 32, { align: 'center' });

            // Zapisz PDF
            const fileName = `Nota_ksiegowa_${getValue('nota_numer').replace(/\//g, '-')}_${formatDate(getValue('nota_data'))}.pdf`;
            doc.save(fileName);
        }
    </script>
</body>
</html>
